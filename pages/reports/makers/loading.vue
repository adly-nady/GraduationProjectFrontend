<template>
    <div
        class="wrapper z-[-1] bg-white absolute bottom-0 w-full left-0 lg:!w-[94%] h-[95%] lg:!h-[90vh] lg:!justify-start lg:!align-start flex flex-col justify-center items-center gap-3 ">
        <ReportsTest v-if="store.isToggled && store.content" :reportTitle="store.content.reportTitle"
            class="flex flex-col">
            <ReportsRadioForm />
            <div class="flex flex-col justify-center gap-2 mt-1">
                <ReportsForm :formField="store.content.formFields" :dataSet="store.content.dataSet" />

            </div>
            <ReportsTable :header="store.content.tableHeader" />
            <ReportsEnd :formFields="reportformFields" />
        </ReportsTest>
        <SectionTitle title=" قسم حركه التحميل" />
        <ReportsReportMakerTable :header="tableHeader" :tableBody="tableBody" @update:tableBody="updateTableBody" />
        <ReportsReportMakerFooter :footerData="footer" />
    </div>
</template>

<script setup>
import { useToggleStore } from '../../stores/reportStore';

const store = useToggleStore();
const tableHeader = [
    { text: 'تحديد', value: 'تحديد' },
    { text: 'اسم الصنف', value: ' اسم الصنف' },
    { text: 'الوحده', value: 'الوحده' },
]
const tableBody = ref([
    { name: 'Item 1', code: 'A123', isChecked: false },
    { name: 'Item 2', code: 'B456', isChecked: false },
    { name: 'Item 2', code: 'B456', isChecked: false },
    { name: 'Item 2', code: 'B456', isChecked: false },
    { name: 'Item 2', code: 'B456', isChecked: false },
    { name: 'Item 2', code: 'B456', isChecked: false },
    { name: 'Item 2', code: 'B456', isChecked: false },
]);
const form1Config = [
    { name: 'departmentName', type: 'text', label: 'اسم القسم ' },
    { name: 'reciverName', type: 'text', label: 'اسم المستلم ' },
    { name: 'date', type: 'text', label: ' التاريح ' },
];
const staticFormConfig = [
    { name: 'sectionTitle', type: 'text', label: 'اسم القسم' },
    { name: 'supplier', type: 'text', label: 'اسم المورد' },
    { name: 'reciverName', type: 'text', label: 'اسم المستلم ' },
    { name: 'date', type: 'date', label: 'التاريخ ' },
]
const reportformFields = [
    { name: 'departmentName', type: 'text', label: ' المدير العام ' },
    { name: 'date', type: 'text', label: 'مسئول عن  العبوة ومخازن التام ' },
    { name: 'date', type: 'text', label: 'المستلم ' },
]
const reprotTableHeader = [
    { name: 'اسم الصنف' },
    { name: 'الوحدة' },
    { name: 'رصيد قبل' },
    { name: 'رصيد صرف' },
    { name: 'رصيد بعد' },
    { name: 'الملاحظات ' }
];
const updateTableBody = (updatedBody) => {
    tableBody.value = updatedBody;
};



const footer = [
    {
        name: " تقرير حركة التحميل ",
        content: {
            reportTitle: "تقرير حركة التحميل", formFields: form1Config,
            dataSet: staticFormConfig,
            tableHeader: [
                { name: 'اسم الشكارة' },
                { name: 'وزن الشكارة' },
                { name: 'عدد الشكاير ' },
                { name: 'الملاحظات ' }
            ]
        }
    },
    {
        name: " تقرير طلب الانتاج ",
        content: {
            reportTitle: "تقرير طلب الانتاج", 
            formFields: [
                { name: 'customerName', type: 'text', label: 'اسم العميل ' },
                { name: 'departmentName', type: 'text', label: 'اسم القسم ' },
                { name: 'reciverName', type: 'text', label: 'اسم المستلم ' },
            ]
             , dataSet: staticFormConfig,
            tableHeader: [
                { name: 'اسم الشكارة' },
                { name: 'وزن الشكارة' },
                { name: 'نوع الدقيق' },
                { name: 'الكمية' },
                { name: 'الملاحظات ' }
            ]
        }
    },
    {
        name: "  تقرير بوليصة   ",
        content: {
            reportTitle: "تقرير  بوليصة الصرف", 
            formFields: [
                { name: 'customerName', type: 'text', label: 'اسم العميل ' },
                { name: 'departmentName', type: 'text', label: 'اسم القسم ' },
                { name: 'reciverName', type: 'text', label: 'اسم المستلم ' },
            ]
             , dataSet: staticFormConfig,
            tableHeader: [
                { name: 'اسم الشكارة' },
                { name: 'وزن الشكارة' },
                { name: 'نوع الدقيق' },
                { name: 'الكمية' },
                { name: 'الملاحظات ' }
            ]
        }
    },
    {
        name: " تقرير خروج منتج  ",
        content: {
            reportTitle: "تقرير خروج منتج", 
            formFields: [
                { name: 'customerName', type: 'text', label: 'اسم العميل ' },
                { name: 'departmentName', type: 'text', label: 'اسم القسم ' },
                { name: 'reciverName', type: 'text', label: 'اسم المستلم ' },
            ]
             , dataSet: staticFormConfig,
            tableHeader: [
                { name: '  اسم الطلب ' },
                { name: 'اسم الصنف' },
                { name: 'وزن الشكارة' },
                { name: 'الكمية' },
                { name: 'رقم أمر البيع' },
                { name: 'الملاحظات ' }
            ]
        }
    },
   
]

</script>